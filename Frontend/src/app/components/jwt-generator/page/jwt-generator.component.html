<h1 id="tableLabel">Create JWT from configuration</h1>

<select [(ngModel)]="selectedConfiguration">
  <option value="null" disabled selected>Select a configuration</option>
  <option *ngFor="let configuration of oidcConfigurations" [ngValue]="configuration">{{configuration.authority}}</option>
</select>

<div class="container">
  <table class="table table-striped" aria-labelledby="tableLabel">
    <tr>
      <th>Id</th>
      <th>Authority</th>
      <th>Audience</th>
      <th>Callback Uri</th>
      <th>Certificate Serial</th>
      <th>Certificate Password</th>
      <th>Client Id</th>
      <th>Redirect Uri</th>
      <th>Response Type</th>
      <th>Scope</th>
    </tr>
    <tr>
      <td>
        {{selectedConfiguration?.id}}
      </td>
      <td>
        {{selectedConfiguration?.authority}}
      </td>
      <td>
        {{selectedConfiguration?.audience}}
      </td>
      <td>
        {{selectedConfiguration?.callback_uri}}
      </td>    
      <td>
        {{selectedConfiguration?.certificateSerial}}
      </td>    
      <td>
        {{selectedConfiguration?.certificatePassword}}
      </td>
      <td>
        {{selectedConfiguration?.client_id}}
      </td>
      <td>
        {{selectedConfiguration?.redirect_uri}}
      </td>
      <td>
        {{selectedConfiguration?.response_type}}
      </td>
      <td>
        {{selectedConfiguration?.scope}}
      </td>
    </tr>
  </table>
  <hr>
  <button style="background: lightblue;" (click)="createJWT()">Generate JWT</button>
  <hr>
  <div>
    <h4>Token</h4>
    <textarea [(ngModel)]="JWTstring" readonly style="width: 100%; height: 150px;"></textarea>
    <button (click)="copyToClipboard()">Copy Token clipboard</button>
  </div>
  <hr>
  <div style="display: flex;">
    <div style="flex: 1">
      <h4>Headers</h4>
      <textarea [(ngModel)]="JWTheader" readonly style="width: 100%; height: 150px;"></textarea>
    </div>
    <div style="flex: 1">
      <h4>Payload</h4>
      <textarea [(ngModel)]="JWTpayload" readonly style="width: 100%; height: 150px;"></textarea>
    </div>
  </div>
</div>

